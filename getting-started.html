<!DOCTYPE HTML>

<html>
<head>
    <title>Exkorpion - Features</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!--[if lte IE 8]>
    <script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="assets/css/main.css"/>

    <!--[if lte IE 8]>
    <link rel="stylesheet" href="assets/css/ie8.css"/><![endif]-->
    <link rel="stylesheet" href="assets/js/highlight/styles/github-gist.css"/>
    <script src="assets/js/highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body class="left-sidebar">
<div id="page-wrapper">

    <!-- Header -->
    <div id="header-wrapper">
        <header id="header" class="container">

            <!-- Logo -->
            <div id="logo">
                <h1><a href="index.html">Exkorpion</a></h1>
                <span>by Wesovilabs</span>
            </div>

            <!-- Nav -->
            <nav id="nav">
                <ul>
                    <li><a href="index.html">Welcome</a></li>
                    <li class="current">
                        <a href="#">Guides</a>
                        <ul>
                            <li><a href="overview.html">Overview</a></li>
                            <li><a href="installation.html">Exkorpion installation</a></li>

                            <li><a href="getting-started.html">Getting started with Exkorpion</a></li>
                            <li>
                                <a href="#">Exkorpion samples</a>
                                <ul>
                                    <li><a href="sample-maths.html">Testing Maths operations</a></li>
                                    <li><a href="sample-phoenix.html">Testing Phoenix applications</a></li>
                                    <li><a href="sample-maru.html">Testing Maru applications</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="https://www.github.com/wesovilabs/exkorpion">Github</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </header>
    </div>

    <!-- Main -->
    <div id="main-wrapper">
        <div class="container">
            <div class="row 200%">
                <div class="4u 12u$(medium)">
                    <div id="sidebar">

                        <!-- Sidebar -->
                        <section>
                            <h3>Share it!</h3>

                            <p>We really appreciate you are here! You could make us even happier, if you enjoy this
                                project, please sharing it with your colleagues.</p>
                            <footer>
                                <a href="http://twitter.com/share?text=Working with Exkorpion, an Elixir framework to do testing in a BDD way&url=http://www.wesovilabs.com/exkorpion&hashtags=elixirlang,myelixirstatus&via=wesovilabs&realted=exkorpion"
                                   class="button icon fa-twitter">Share it on twitter</a>
                            </footer>
                        </section>



                    </div>
                </div>
                <div class="8u 12u$(medium) important(medium)">
                    <div id="content">

                        <!-- Content -->
                        <p>


                            <h3>Exkorpion concepts</h3>
                            <p>
                                <b>- Scenario</b>: A scenario is composed by a set of tests to check a functionality of our software works as expected.
                                Below some of the benefits of writing scenarios instead of unit tests:
                                <ul>
                                    <li>Better documentation for other developers.</li>
                                    <li>Test are better organized and structured</li>
                                    <li>Working under an agile methodology we can match scenarios to acceptance criteria</li>
                                    <li>Help us to think about the tests from a non-programming-lenguage point of view.</li>
                                </ul>
                                A scenario must include a brief description about what we want test and contains one or more than one tests.

                            </p>
                            <p>
                                <pre><i>Example:</i><code class="elixir"> scenario "Testing user authentication works as expected" do<br/>   it ...<br/><br/>   it ...<br/> end</code></pre>
                            </p>
                            <p>
                                <b>- It</b>: Some we understand a scenario could be described by more than one case, Exkorpion provide with
                                a reserved word <b>It</b> that help use to write tests inside a scenario.
                                We assume a scenario has one case at least.
                            <pre><i>Example:</i><code class="elixir"> scenario "Testing user authentication works as expected" do<br/>   it "user is authenticated successfully when credentials are valid" do<br/><br/>   end<br/>   it "user authentication fails when credentials are expired" do<br/><br/>   end<br/> end</code></pre>
                            </p>
                            <p>
                                <b>- Given / When / Then</b>: The use of these <b>words</b> mustn't be associated to writing long features in Gherkin. Actually
                                even when we write some unit tests we are really think about it but we do not put in text.
                                <ul>
                                    <li>Given: We define the input for our test</li>
                                    <li>When: Something happens (what we want to test)</li>
                                    <li>Then: We check the result</li>
                                </ul>
                                So even thinking on a very basic unit tests, such as a sum, we find the three steps:
                                Given (a=1, b=2), When (c = a + b) and Then (c === 3)
                            </p>
                            <p>

                                <pre><i>Example:</i><code class="elixir"> scenario "Testing user authentication works as expected" do
   it "user is authenticated successfully when credentials are valid" do
     %{
       given: fn _ ->
         %{username: "user@email.com", password: "s3cr3t"}
       end,
       when: &(%{authentication_result: doAuthentication(&1.username, &1.password})
       then: fn ctx ->
         assert ctx.authentication_result.code === "OK"
       end
     }
   end<br/>
end</code></pre>
                            </p>
                            <p>
                                Exkorpion also provides a <b>with</b> word which would allow us to run the same tests but with different input data. Below an example:
                            </p>
                            <p>

                                    <pre><i>Example:</i><code class="elixir"> scenario "Testing user authentication works as expected" do
  it "user is authenticated successfully when credentials are valid" do
    %{
      with: fn ctx ->
        [
          %{username: "valid@mail.com", password: "no_valid", expected_error: "invalid_credentials"},
          %{username: "expired@mail.com", password: "s3cr3t", expected_error: "expired_account"},
          %{username: "valid@mail.com", password: "", expected_error: "invalid_password_format"}
        ],
      given: &(%{username: &1.username, password: &1.password})
      when: &(%{authentication_result: doAuthentication(&1.username, &1.password})
      then: fn ctx ->
        assert ctx.authentication_result.message === ctx.expected_error
      end
    }
  end<br/>
end</code></pre>
                            </p>
                            <p>
                                <b>- BeforeEach</b>: Different syntax but some functionality than the known <b>setup</b> in ExUnit.
                                By making use of it we can prepare a set of test input data which we will be using in defferent testss in the same scenario.
                                
                            </p>
                            <h3>How to run Exkorpion</h3>
                            <ul>
                                <li>- Make a scenarios directory in your project</li>
                                <li>- Add files with sufix _scenario.ex or _scenario.exs</li>
                                <li>- Implementing some test as example above.</li>
                                <li>- Run command MIX_ENV=test mix exkorpion</li>
                            </ul>


                        </article>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer-wrapper">
        <footer id="footer" class="container">
            <div class="row">
                <div class="3u 6u(medium) 12u$(small)">

                    <!-- Links -->
                    <section class="widget links">
                        <h3>Friends links</h3>
                        <ul class="style2">
                            <li><a href="http://www.wesovilabs.com">Wesovilabs</a></li>
                            <li><a href="http://nquicenob.github.io">Nicolás Quiceno</a></li>

                        </ul>
                    </section>

                </div>
                <div class="3u 6u$(medium) 12u$(small)">

                    <!-- Links -->
                    <section class="widget links">

                        <ul class="style2">

                        </ul>
                    </section>

                </div>
                <div class="3u 6u(medium) 12u$(small)">

                    <!-- Links -->
                    <section class="widget links">

                        <ul class="style2">

                        </ul>
                    </section>

                </div>
                <div class="3u 6u$(medium) 12u$(small)">

                    <!-- Contact -->
                    <section class="widget contact last">
                        <h3>Contact Us</h3>
                        <ul>
                            <li><a href="https://www.twitter.com/wesovilabs" class="icon fa-twitter"><span
                                    class="label">Twitter</span></a></li>
                            <li><a href="https://www.github.com/wesovilabs" class="icon fa-github"><span class="label">Github</span></a>
                            </li>
                            <li><a href="mailto:developer@wesovi.com" class="icon fa-envelope"><span
                                    class="label">Mail</span></a></li>

                        </ul>

                    </section>

                </div>
            </div>
            <div class="row">
                <div class="12u">
                    <div id="copyright">
                        <ul class="menu">
                            <li>&copy; 2016. All rights reserved</li>
                            <li>Author: <a href="http://www.wesovilabs.com">Iván Corrales Solera</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
    </div>

</div>


<!-- Scripts -->

<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.dropotron.min.js"></script>
<script src="assets/js/skel.min.js"></script>
<script src="assets/js/util.js"></script>
<!--[if lte IE 8]>
<script src="assets/js/ie/respond.min.js"></script><![endif]-->
<script src="assets/js/main.js"></script>

</body>
</html>